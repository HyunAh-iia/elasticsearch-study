# 실습 환경 구축

## 환경

- OS: OSX

## 1. Java Install & 환경 설정

- jdk 1.8 이상
- https://www.oracle.com/java/technologies/javase-downloads.html
- 환경변수 추가
  - vi ~/.bash_profile
  - JAVA_PATH=JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home

## 2. elasticsearch 설치

- OSX의 경우 Homebrew로 elasticsearch를 설치해서 사용할 수 있다.(최신버전)
- 하지만 책의 버전(6.4.3)과 맞춰야 하기 때문에 past version을 설치해서 사용하도록 한다. brew는 토이 프로젝트를 진행할때...
- [Homebrew](https://www.elastic.co/guide/en/elasticsearch/reference/7.6/brew.html)
- [책 버전](https://www.elastic.co/kr/downloads/past-releases/elasticsearch-6-4-3)

## 3. elasticsearch 실행 & 중지

- 내려받은 폴더의 압축을 푼다.
- 실행

  ```shell
  cd bin && ./elasticsearch
  ```

- 중지
  
  Press key control + c

## 환경 설정시 트러블 슈팅

### [실행] java.security.AccessControlException: access denied ([permission], [package])

- java.policy 추가 필요
- vi /Library/Java/JavaVirtualMachines/jdk-14.jdk/Contents/Home/conf/security/java.policy
  
  ```shell
  grant {
    ... 중략 ...
    permission [permission] [package], "read";
  }
  ```
